{{ if .Site.Data.homepage.publication.enable }}
<section id="publication" class="section section--border-bottom rad-animation-group">
    <div class="container">
	<div class="row">
	    <h2>{{ .Site.Data.homepage.publication.title }}</h2>
	{{ if .Site.Data.homepage.publication.description }}
	    <p class="lead">{{ .Site.Data.homepage.publication.description }}</p>
	{{ end }}
	</div>
        <div class="row flex-column-reverse flex-md-row rad-fade-down">
            <div class="row pt-2 pt-md-4">
                {{ $xp := (where .Site.RegularPages.ByDate.Reverse "Type" "publication") }}
                {{ $xpCount := len $xp }}
                {{ range first 6 $xp }}
                <div class="publication col-12 col-sm-5 mb-4 mb-sm-0">
                    <div class="publication__date">{{ .Params.year }}</div>
                    <div class="publication__title">{{ .Params.title }}</div>
                    <div class="publication__company">{{ .Params.externalURL }}. <span class="publication__venue">{{ .Params.venue }}</span></div>
                </div>
		<div class="publication col-12 col-sm-7 mb-4 mb-sm-0">
		    <div class="publication__description">
		    	{{ .Content | safeHTML }}
		    </div>
		</div>
                {{ end }}
                {{ if gt $xpCount 6 }}
                    <div class="all-publication-container">
                        {{ $xpExtra := sub $xpCount 6 }}
                        <em>And {{ $xpExtra }} more</em><br/>
                        <a href="{{ absURL "publication" }} " title="See additional {{ $xpExtra }} publication items" class="btn btn-primary btn-all-publication">
                            <i class="{{ .Site.Data.homepage.publication.button3.icon }}"></i>
                            {{ .Site.Data.homepage.publication.button3.btnText }}
                        </a>
                    </div>
                {{ end }}
            </div>
            
        </div>
    </div>
</section>
{{ end }}
